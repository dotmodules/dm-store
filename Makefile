#=======================================================================================
# MAKE SETTINGS

.DEFAULT_GOAL := help
NAME := posix-store


#=======================================================================================
# HELP TARGET
#=======================================================================================

.PHONY: help
help:
	@echo ""
	@echo "-------------------------------------------------------------------"
	@echo "  $(NAME) make interface "
	@echo "-------------------------------------------------------------------"
	@echo ""
	@echo "   help              Prints out this help message."
	@echo "   init              Initializes the development environment."
	@echo ""
	@echo "-------------------------------------------------------------------"
	@echo ""
	@echo "   install           Links the tool to the appropriate place."
	@echo ""
	@echo "-------------------------------------------------------------------"
	@echo ""
	@echo "   test              Runs the included example test suite."
	@echo ""
	@echo "-------------------------------------------------------------------"
	@echo ""


#=======================================================================================
# INIT
#=======================================================================================
.PHONY: init
init:
	@git submodule update --init

#=======================================================================================
# INSTALL
#=======================================================================================
.PHONY: install
install:
	@ln -sfv $(PWD)/bin/posix-store ~/.local/bin/posix-store

#=======================================================================================
# TEST SUITE
#=======================================================================================
.PHONY: test
test:
	@./tests/run.sh
